set -e

echo "ğŸ› ï¸  Iniciando build personalizado para Vercel..."
echo "ğŸ“¦ Instalando dependÃªncias com npm ci..."
npm ci --prefer-offline

echo "ğŸ”§ Corrigindo versÃ£o do Vite (necessÃ¡rio para @quasar/app-vite)..."
npm install --no-save vite@4.5.3

echo "âœ… VersÃµes apÃ³s correÃ§Ã£o:"
npm list vite --depth=0

echo "ğŸš€ Executando 'npm run build'..."
npm run build

echo "âœ”ï¸ Build concluÃ­do com sucesso!"